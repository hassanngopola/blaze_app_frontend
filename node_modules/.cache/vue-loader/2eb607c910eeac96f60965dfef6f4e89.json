{"remainingRequest":"/home/cranberry/Desktop/create/Blaze-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cranberry/Desktop/create/Blaze-app/src/views/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cranberry/Desktop/create/Blaze-app/src/views/Dashboard.vue","mtime":1613115644891},{"path":"/home/cranberry/Desktop/create/Blaze-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cranberry/Desktop/create/Blaze-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/cranberry/Desktop/create/Blaze-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cranberry/Desktop/create/Blaze-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb2RlbEZhY3RvcnkgZnJvbSAiQC9zZXJ2aWNlcy9yZXNvdXJjZXMvcmVzb3VyY2VGYWN0b3J5IjsKaW1wb3J0IEF0dGVuZGFuY2VMaXN0IGZyb20gICJAL2NvbXBvbmVudHMvdGFibGVzL2F0dGVuZGFuY2UiOwppbXBvcnQgTmF2IGZyb20gIkAvY29tcG9uZW50cy9sYXlvdXQvVXNlck5hdmJhciI7CmltcG9ydCBEYXRlRmlsdGVyZXIgZnJvbSAiQC9jb21wb25lbnRzL2RhdGVGaWx0ZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgIG5hbWU6ICJEYXNoYm9hcmQiLAogICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAnbmF2LWJhcicgOiBOYXYsCiAgICAgICAgJ2F0dGVuZGFuY2UtbGlzdCc6IEF0dGVuZGFuY2VMaXN0LAogICAgICAgICdkYXRlLWZpbHRlcic6IERhdGVGaWx0ZXJlcgogICAgIH0sCiAgICAgZGF0YSgpewogICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgbGlzdDogW10KICAgICAgICAgfQogICAgIH0sCiAgICAgbWV0aG9kczogewogICAgICAgICBnZXRBdHRlbmRhbmNlcyhkYXRhKXsKICAgICAgICAgICAgIGNvbnN0IGF0dGVuZGFuY2UgPSBtb2RlbEZhY3RvcnkuZ2V0KCdyZXBvcnRzJyk7CiAgICAgICAgICAgICBhdHRlbmRhbmNlLmdldEF0dGVuZGFuY2UoZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgfSk7CiAgICAgICAgIH0KICAgICB9LAogICAgIG1vdW50ZWQoKXsKICAgICAgICAgdGhpcy5nZXRBdHRlbmRhbmNlcyh7fSk7CiAgICAgfSwKICAgICBjcmVhdGVkKCl7CiAgICAgICAgdGhpcy4kc3RvcmUuc3Vic2NyaWJlKChtdXRhdGlvbiwgc3RhdGUpID0+IHsKICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdzZXRTdGFydEZpbHRlckRhdGUnIHx8IG11dGF0aW9uLnR5cGUgPT09ICdzZXRFbmRGaWx0ZXJEYXRlJykgewogICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IHN0YXRlLmRhdGVGaWx0ZXIuc3RhcnRfZGF0ZTsKICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gc3RhdGUuZGF0ZUZpbHRlci5lbmRfZGF0ZTsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXR0ZW5kYW5jZXMoeydmcm9tJzogZnJvbSwgJ3RvJzogdG99KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgIH0KfQo="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div> \n        <nav-bar current-page=\"dashboard\"></nav-bar> <p/>\n        <h4>Attendance report:</h4>\n        <date-filter></date-filter>\n        <attendance-list :items=\"list\"> </attendance-list>\n    </div>\n</template>\n\n<script>\nimport modelFactory from \"@/services/resources/resourceFactory\";\nimport AttendanceList from  \"@/components/tables/attendance\";\nimport Nav from \"@/components/layout/UserNavbar\";\nimport DateFilterer from \"@/components/dateFilter\";\n\nexport default {\n     name: \"Dashboard\",\n     components: {\n        'nav-bar' : Nav,\n        'attendance-list': AttendanceList,\n        'date-filter': DateFilterer\n     },\n     data(){\n         return {\n             list: []\n         }\n     },\n     methods: {\n         getAttendances(data){\n             const attendance = modelFactory.get('reports');\n             attendance.getAttendance(data).then(response => {\n                 this.list = response.data.data;\n             });\n         }\n     },\n     mounted(){\n         this.getAttendances({});\n     },\n     created(){\n        this.$store.subscribe((mutation, state) => {\n            if (mutation.type === 'setStartFilterDate' || mutation.type === 'setEndFilterDate') {\n                const from = state.dateFilter.start_date;\n                const to = state.dateFilter.end_date;\n                this.getAttendances({'from': from, 'to': to});\n            }\n        });\n     }\n}\n</script>"]}]}