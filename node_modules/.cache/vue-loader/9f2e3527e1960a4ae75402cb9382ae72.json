{"remainingRequest":"/home/cranberry/Desktop/create/hsms-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cranberry/Desktop/create/hsms-client/src/components/forms/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cranberry/Desktop/create/hsms-client/src/components/forms/LoginForm.vue","mtime":1613115644887},{"path":"/home/cranberry/Desktop/create/hsms-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cranberry/Desktop/create/hsms-client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/cranberry/Desktop/create/hsms-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cranberry/Desktop/create/hsms-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhdXRoIGZyb20gIkAvc2VydmljZXMvcmVxdWVzdC9hdXRoLmpzIjsKaW1wb3J0IHNlc3Npb24gZnJvbSAiQC9zZXJ2aWNlcy9yZXF1ZXN0L3Nlc3Npb24uanMiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkxvZ2luRm9ybSIsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgICAgICBwYXNzd29yZDogIiIKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGxvZ2luKCl7CiAgICAgICAgICAgIGF1dGgubG9naW4odGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZCkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT57CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLndyaXRlKGRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFRva2VuJyxkYXRhLmF1dGgpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXInLCBkYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2xvZ2luJyk7CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6Ii9kYXNoYm9hcmQifSk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZGF0YS5hdXRoIHx8ICdMb2dpbiBFcnJvcic7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGRpYWxvZ3MuYWxlcnQoYEVycm9yOiAke21lc3NhZ2V9YCx7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIkVycm9yIiwgc2l6ZTonc20nCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IGNvbnNvbGUubG9nKHJlcykpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginForm.vue","sourceRoot":"src/components/forms","sourcesContent":["<template>\n    <div>\n        <div class=\"card\">\n            <div class=\"card-header\">Login</div>\n            <div class=\"card-body\">\n                <div class=\"form-group\">\n                <label for=\"username\">Username:</label>\n                <input type=\"username\" v-model=\"username\" class=\"form-control\" id=\"username\" placeholder=\"Enter username\">\n                </div>\n                <div class=\"form-group\">\n                <label for=\"pwd\">Password:</label>\n                <input type=\"password\" v-model=\"password\" class=\"form-control\" placeholder=\"*******\" >\n                </div>\n                <button @click=\"login\" class=\"btn btn-primary\">Login</button>\n            </div>\n        </div>\n    </div> \n</template>\n\n<script>\n    import auth from \"@/services/request/auth.js\";\n    import session from \"@/services/request/session.js\";\n    \n    export default {\n        name: \"LoginForm\",\n        data(){\n            return {\n                username: \"\",\n                password: \"\"\n            }\n        },\n        methods: {\n            login(){\n                auth.login(this.username, this.password)\n                        .then(res =>{\n                            const data = res.data.data;\n                            session.write(data);\n                            this.$store.commit('setToken',data.auth);\n                            this.$store.commit('setUser', data.user);\n                            this.$store.commit('login');\n \n                            return this.$router.push({path:\"/dashboard\"});\n                        }).catch(error => {\n                            session.destroy();\n                            const message = error.response.data.data.auth || 'Login Error';\n                            this.$dialogs.alert(`Error: ${message}`,{\n                                title: \"Error\", size:'sm'\n                            }).then(res => console.log(res))\n                        })\n            }\n        }\n    }\n</script>"]}]}